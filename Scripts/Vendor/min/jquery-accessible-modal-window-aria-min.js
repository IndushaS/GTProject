$(document).ready(function(){var a=$(".js-modal"),e=$("body");a.each(function(a){var e=$(this),o=a+1;e.attr({id:"label_modal_"+o})});var o="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";e.on("click",".js-modal",function(a){0===$("#js-modal-page").length&&e.wrapInner('<div id="js-modal-page"></div>');var o=$(this),d=o.data(),l=o.attr("id"),t=o.attr("data-pendingorderid"),n="undefined"!=typeof d.modalPrefixClass?d.modalPrefixClass+"-":"",s="undefined"!=typeof d.modalContentId?d.modalContentId:"",i=$("#"+s),r=d.modalCloseText||"X",c=d.modalTitle||"",m,f=d.modalVideo||"",v,p=$("#js-modal-page");$("#modal-video").find("iframe").attr("src",f),m='<dialog id="js-modal" class="'+n+'modal" role="dialog" aria-labelledby="modal-title" open><div role="document" class="js-modal-inner">',m+='<button id="js-modal-close" class="'+n+'modal-close btn btn-close-small mb8" data-content-back-id="'+s+'" data-focus-back="'+l+'" title="'+r+'"><span class="'+n+'modal-close__text">'+r+"</span></button>",""!==c&&(m+='<h1 id="modal-title" class="'+n+'modal-title">'+c+"</h1>"),m+='<div id="js-modal-content"></div></div></dialog>',p.after(m).attr("aria-hidden","true"),i.clone().removeClass("hidden").appendTo("#js-modal-content"),e.addClass("no-scroll"),v='<span id="js-modal-overlay" class="'+n+'modal-overlay" data-background-click="disabled"></span>',$(v).insertAfter($("#js-modal")),$("#js-modal-close").focus(),o.hasClass("pending-approval-btn")&&($("#js-modal").find(".prg-pa-approve").attr("data-orderid",t),$("#js-modal").find("#pending-approval-display-orderid").text(t)),a.preventDefault()}),e.on("click","#js-modal-close, #pending-approval-close",function(){var a=$(this),o="#"+a.attr("data-focus-back"),d=$("#js-modal"),l=$("#js-modal-overlay"),t=$("#js-modal-page"),n=t.contents();t.replaceWith(n),e.removeClass("no-scroll"),d.remove(),l.remove(),$(o).focus()}).on("click","#js-modal-overlay",function(a){var e=$("#js-modal-close");a.preventDefault(),e.trigger("click")}).on("keydown","#js-modal-overlay",function(a){var e=$("#js-modal-close");13!==a.keyCode&&32!==a.keyCode||(a.preventDefault(),e.trigger("click"))}).on("keydown","#js-modal",function(a){var e=$(this),d=$("#js-modal-close");if(27===a.keyCode&&d.trigger("click"),9===a.keyCode){var l=e.find("*"),t=l.filter(o).filter(":visible"),n=$(document.activeElement),s=t.length,i=t.index(n);a.shiftKey||i!==s-1||(t.get(0).focus(),a.preventDefault()),a.shiftKey&&0===i&&(t.get(s-1).focus(),a.preventDefault())}}).on("keyup",":not(#js-modal)",function(a){var e=$("#js-modal"),o=$(document.activeElement),d=!!o.parents("#js-modal").length,l=$("#js-modal-close");e.length&&9===a.keyCode&&d===!1&&l.focus()}).on("focus","#js-modal-tabindex",function(){var a=$("#js-modal-close");a.focus()})});